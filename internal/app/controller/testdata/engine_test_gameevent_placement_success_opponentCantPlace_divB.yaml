# Situation:
# Division: B
# Who can place: team in favor only
# Who succeeds: First team
# What happened: ball left field on goal line -> direct
#
# Setup:
# ball left field by: Yellow
# team in favor: Blue
#
# Expectation:
# Blue can place the ball, so Blue should get the direct free kick and should place the ball.
# It will succeed and should get the direct free kick afterwards.
#
initialState:
  stage: First Half
  command: forceStart
  division: DivB
  stageTimeLeft: 5m
  teamState:
    Yellow:
      canPlaceBall: false
transitions:
  - event:
      gameEvent:
        type: ballLeftFieldGoalLine
        details:
          ballleftfieldgoalline:
            byteam: 1 # Yellow
            bybot: 0
            location:
              x: 4.5
              y: 3.0
    expectedStateDiff:
      command: ballPlacement
      commandFor: Blue
      nextCommand: direct
      nextCommandFor: Blue
      placementPos:
        x: 4.3
        y: 2.8
      gameEvents:
        - type: ballLeftFieldGoalLine
          details:
            ballleftfieldgoalline:
              byteam: 1 # Yellow
              bybot: 0
              location:
                x: 4.5
                y: 3.0
  - tick: 1s # make sure that the stage time is not proceeded
  - event:
      gameEvent:
        type: placementSucceeded
        details:
          placementsucceeded:
            byteam: 2 # Blue
            timetaken: 1.0
            precision: 0.01
    expectedStateDiff:
      command: direct
      commandFor: Blue
      nextCommand: ""
      nextCommandFor: ""
      lackOfProgressDeadline: "2010-01-01T00:00:11Z"
      lackOfProgressTimeRemaining: 10s
      gameEvents: []
